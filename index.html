<html>
<head>
  <meta charset="utf-8">
  <title>FRC Team Search</title>
</head>
<script type="text/css">
	dt {
		text-transform:capitalize;
	}
</script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<body>
  <h1>FRC Team Search</h1>
  <p>
    <label>Team Number: </label>
    <input type="text" id="teamNum" value="" />
    <button id="button">Submit</button>
  </p>
  <p id="myResult"></p>
	<dl id="result"></dl>
  <script> 
	 $(document).ready(function() {
		$('#button').click(function() {
			var inputty = $('#teamNum').val();
			if (inputty !== undefined) {
		var sputty = String(inputty);
			var urls = 'https://www.thebluealliance.com/api/v3/team/frc' + inputty.toString();
		console.log(urls);
			$.ajax({
		    url: urls,
		    headers: {
			'X-TBA-Auth-Key': 'u2kDTQPh5Kgn7cOTKTsIzmqoT0KsXBq3PO5U0BeSQgSb7k1kakV6ElfYC0pLCBEf'},
		method: 'GET',
		dataType: 'json',
		success: function(data) {
	    for(var key in data) {
	      if(data[key] !== null & jQuery.type(data[key]) !== 'object') {
		    var keys;
		    if(key.indexOf('_prov') !== -1) {
			keys = key.replace('_prov', '');
		       	
		     }
		     else if (key.indexOf('_') !== -1 ) {
			  keys = key.replace('_', ' ');   
		     }
		     else {
			keys = key;     
		     }
		    $('#result').append("<dt class='title' id='" + key + "'>" + keys + "</dt><dd class='definition' id='" + key + "'>" + data[key] + "</dd>");
	      }
	    }
	    var dates = JSON.stringify(data);
	    $('#myResult').append(data);
		}
	      });
	    }
	  });
	    });
  </script>
</body>
</html>
